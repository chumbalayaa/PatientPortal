<!--New Form Page-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Patient Portal</title>
    <link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="../bootstrap/js/bootstrap.js"></script>
    <script>
      function showModal(selectedValue){
        console.log(selectedValue);
        if (selectedValue == "custom"){
          $('#myModal').modal('show');
        }
      };

      function changeCustomRepeat(selectedValue){
        var possibleValues = ["dailySelect", "weeklySelect", "monthlySelect"];
        for (i = 0; i < possibleValues.length; i ++){
          if (possibleValues[i] == selectedValue){
            $("#" +possibleValues[i]).show();
          }
          else{
            $("#" +possibleValues[i]).hide();
          };
        }
      };
    </script>
  </head>

  <body>

<form id="assignNewForm">
  <input type="checkbox" name="formType" >Sleep Form</input>
    <select id="sleepForm" onchange="showModal(document.getElementById('sleepForm').value);">
      <option value="daily">Daily</option>
      <option value="weekly">Weekly</option>
      <option value="monthly">Monthly</option>
      <option value="custom">Custom</option>
    </select></br>
  <input type="checkbox" name="formType">Diet Form</input>
    <select id="dietForm" onchange="showModal(document.getElementById('dietForm').value);">
      <option value="daily">Daily</option>
      <option value="weekly">Weekly</option>
      <option value="monthly">Monthly</option>
      <option value="custom">Custom</option>
    </select></br>
  <input type="checkbox" name="formType">Anxiety Form</input>
    <select id="anxietyForm" onchange="showModal(document.getElementById('anxietyForm').value);">
      <option value="daily">Daily</option>
      <option value="weekly">Weekly</option>
      <option value="monthly">Monthly</option>
      <option value="custom">Custom</option>
    </select></br>
  <input type="checkbox" name="formType">Emotion Form</input>
    <select id="emotionForm" onchange="showModal(document.getElementById('emotionForm').value);">
      <option value="daily">Daily</option>
      <option value="weekly">Weekly</option>
      <option value="monthly">Monthly</option>
      <option value="custom">Custom</option>
    </select></br>
  <input type="submit" id="assignFormSubmit"></input>
</form>

<!--<button type="button" data-toggle="modal" data-target="#myModal">Repeat Every...</button><br/>-->


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">How often should the patient fill out the form?</h4>
      </div>
      <div class="modal-body">
        Frequency:
        <select id="repeatForm" onchange="changeCustomRepeat(document.getElementById('repeatForm').value)">
          <option value="dailySelect">Daily</option>
          <option value="weeklySelect">Weekly</option>
          <option value="monthlySelect">Monthly</option>
        </select>
        <div id="dailySelect">
          Every <input type="number" min="0" value="1"></input> day(s)
        </div>
        <div id="weeklySelect" hidden>
          Every <input type="number" min="0" value="1"></input> week(s) on:</br></br>
          <input type="checkbox" name="dayOfWeek">S</input></br>
          <input type="checkbox" name="dayOfWeek">M</input></br>
          <input type="checkbox" name="dayOfWeek">T</input></br>
          <input type="checkbox" name="dayOfWeek">W</input></br>
          <input type="checkbox" name="dayOfWeek">R</input></br>
          <input type="checkbox" name="dayOfWeek">F</input></br>
          <input type="checkbox" name="dayOfWeek">S</input></br>
        </div>
        <div id="monthlySelect" hidden>
          Every <input type="number" min="0" value="1"></input> months(s) by:</br>
          <select id="monthlyRepeat">
            <option value="byDayOfMonth">Day of the Month</option></br>
            <option value="byDayOfWeek">Day of the Week</option></br>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>